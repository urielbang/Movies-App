/*! For license information please see main.js.LICENSE.txt */
(()=>{let e,t,n=[],l=JSON.parse(localStorage.getItem("favorites"))||[];fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=1",{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNjNjNzViMWI2ZDUwMGNkMjgzZjU0MmU4ZTFlZDJkYSIsInN1YiI6IjVjMDNiNDQwMGUwYTI2NDg2YTA2ZjYwNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Pj6auQlw-VfPG6PenA6MbujH_SQk3Xr3LmD6H9WdH04"}}).then((e=>e.json())).then((n=>{n.results.forEach(((e,t)=>{let n=new Date(e.release_date).getFullYear();document.querySelector("#slider").innerHTML+=`\n      \n      <div style="display: flex;flex-direction: column;" class="cardSlider">\n      <img  src="https://image.tmdb.org/t/p/w500/${e.poster_path}">\n      <p> ${e.original_title}</p>\n      <span>${n}</span>\n      <div>\n    \n      \n      \n      `,document.querySelector("#mainPopular").innerHTML+=`\n      <div style="display: flex;flex-direction: column;" class="card" id="card${t}">\n      <img  src="https://image.tmdb.org/t/p/w500/${e.poster_path}">\n      <div style="display: flex;flex-direction: row;" class="divHeart"> \n      <p> ${e.original_title}</p>\n      <i class="fa fa-heart" style="font-size: 20px"></i>\n       </div>\n      <span>${n}</span>\n      </div>\n      `})),e=document.querySelectorAll(".fa-heart"),t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(()=>{console.log("click"),document.querySelector("#movieClickDisplay").innerHTML=`<div class="cardOnDisplay">${t[e].innerHTML}</div>\n        <p>${n.results[e].overview}</p>\n        \n        `}));if(e.forEach(((e,t)=>{e.addEventListener("click",(()=>((e,t)=>{e.style.color="red";const i=n.results[t];localStorage.setItem("favorites",JSON.stringify([i,...l]))})(e,t)))})),l.length>0){let t=l.map((e=>n.results.findIndex((t=>t.original_title===e.original_title))));console.log(t),t.forEach((t=>{e.forEach(((e,n)=>{t===n&&(e.style.color="red")}))}))}})).catch((e=>console.error(e))),document.querySelector("#format").addEventListener("change",(()=>{document.querySelector("#slider").innerHTML="",document.querySelector("#mainPopular").innerHTML="","weekPopular"==document.querySelector("select").value?fetch("https://api.themoviedb.org/3/movie/top_rated?language=en-US&page=9",{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNjNjNzViMWI2ZDUwMGNkMjgzZjU0MmU4ZTFlZDJkYSIsInN1YiI6IjVjMDNiNDQwMGUwYTI2NDg2YTA2ZjYwNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Pj6auQlw-VfPG6PenA6MbujH_SQk3Xr3LmD6H9WdH04"}}).then((e=>e.json())).then((l=>{l.results.forEach(((e,t)=>{let n=new Date(e.release_date).getFullYear();document.querySelector("#slider").innerHTML+=`\n          \n          <div style="display: flex;flex-direction: column;" class="cardSlider">\n          <img  src="https://image.tmdb.org/t/p/w500/${e.poster_path}">\n          <p> ${e.original_title}</p>\n          <span>${n}</span>\n        \n          \n          \n          `,document.querySelector("#mainPopular").innerHTML+=`\n          <div style="display: flex;flex-direction: column;" class="card" id="card${t}">\n          <img  src="https://image.tmdb.org/t/p/w500/${e.poster_path}">\n          <div style="display: flex;flex-direction: row;" class="divHeart"> \n          <p> ${e.original_title}</p>\n          <i class="fa fa-heart" style="font-size: 20px"></i>\n           </div>\n          <span>${n}</span>\n          `})),e=document.getElementsByClassName("fa-heart"),t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(()=>{console.log("click"),document.querySelector(".imgAlic").innerHTML=`<div class="cardOnDisplay">${t[e].innerHTML}</div>\n            <p>${l.results[e].overview}</p>\n            \n            `}));for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e[t].style.color="red";let l=document.getElementById(`card${t}`).innerHTML;n.push(`<div class="cardFavorites">${l}</div>`),localStorage.setItem("favorites",JSON.stringify(n))}))})).catch((e=>console.error(e))):fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=8",{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNjNjNzViMWI2ZDUwMGNkMjgzZjU0MmU4ZTFlZDJkYSIsInN1YiI6IjVjMDNiNDQwMGUwYTI2NDg2YTA2ZjYwNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Pj6auQlw-VfPG6PenA6MbujH_SQk3Xr3LmD6H9WdH04"}}).then((e=>e.json())).then((l=>{l.results.forEach(((e,t)=>{let n=new Date(e.release_date).getFullYear();document.querySelector("#slider").innerHTML+=`\n          \n          <div style="display: flex;flex-direction: column;" class="cardSlider">\n          <img  src="https://image.tmdb.org/t/p/w500/${e.poster_path}">\n          <p> ${e.original_title}</p>\n          <span>${n}</span>\n        \n          \n          \n          `,document.querySelector("#mainPopular").innerHTML+=`\n          <div  style="display: flex;flex-direction: column;" class="card" id="card${t}">\n          <img  src="https://image.tmdb.org/t/p/w500/${e.poster_path}">\n          <div style="display: flex;flex-direction: row;" class="divHeart"> \n          <p> ${e.original_title}</p>\n          <i class="fa fa-heart" style="font-size: 20px"></i>\n           </div>\n          <span>${n}</span>\n          `})),t=document.getElementsByClassName("card");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(()=>{console.log("click"),document.querySelector(".imgAlic").innerHTML=`<div class="cardOnDisplay">${t[e].innerHTML}</div>\n            <p>${l.results[e].overview}</p>\n            \n            `}));e=document.getElementsByClassName("fa-heart");for(let t=0;t<e.length+1;t++)e[t].addEventListener("click",(()=>{e[t].style.color="red";let l=document.getElementById(`card${t}`).innerHTML;n.push(`<div class="cardFavorites">${l}</div>`),localStorage.setItem("favorites",JSON.stringify(n))}))})).catch((e=>console.error(e)))})),console.log(n);const i=document.querySelector(".hamburger"),r=document.querySelector(".nav-links");i.addEventListener("click",(e=>{r.classList.toggle("active"),e.currentTarget.classList.toggle("is-active")}))})();